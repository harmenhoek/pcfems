Version 0.1

2021-01-05
- Added bootstrap_datepicker_plus for createview.
- Installed bootstrap via pip, loaded into base.html, commented the old links, beware this works perfectly everywhere.
- Updated manage: locations (setup, lab and cabinets), categories and flags.
- DataTables to item detail page: logbook and item history

2021-01-06
- Deprecated qrgenerator.html, now in-view QR generation (using qrcode-6.1) with PIL processing for caption. Now HttpResponse of image insteafd of render html.
- Created qrbatchgenerator to create batch pdf files with qr codes using reportlab.pdfgen and io.

2021-01-07
- @login_required, @staff_member_required fixed for all views. Only about and login now accessible without login.
- date selector in StaffUpdateView and AssignForm.
- Help texts in forms.
- Manage interface: open flags (with resolve), assigned items (with return) and items under warranty (with remove warranty) overview added.
- Success messages on all Manage pages when creating, updating or pressing a single action button.

2021-01-08
- In manage openflags, flagged_by and flagged_on is retrieved by querying the item history.
- Added success messages to ems views. Not fully tested.
- Added flag functionality to item-detail: show current flag and button to flag / resolve flag.
- Added Lightbox to detail page (ekko-lightbox 5.3.0). When default image (now SETTING), no lightbox.
- Hide Home and Scan when logged out

2021-01-11
- Logging scanning. In DetailView item last_scanned is updated when refered from ems-scanner. historicalitem takes care of logging. To fix: when refreshing after redirect, referer is still the same and logging happens multiple times.
- Bug fix: item-detail tables 100% on rescale

Version 0.2
2021-01-14
- Timezone fixed
- Added log_comment, in item-detail also showing who flagged it and when
- Added images to homeview. Redid some fields. Did JS filtering to show options menu correctly. BUT NOTE: a lot is still hard-coded (which columns get special filtering). Needs to be optimized in the future!
- homeview: hidden fields for qrid and description
- Models changes: Item.title, Cabinet.image, .nickname, .main_content, .owner, Setup.image, Lab.image,
- Added filter nonvalue for None display in manage and home.
- redid full look of home, with image, title, and more.

2021-01-18
- Added option to disable tracking of an item, if object.tracking is False, User=Unknown, Location=Unknown. Flagging is still possible. Update home, item-detail and manage.
- In manage, updated locations with interactive table, and new model changes from last week.
- Added image compression to upload of images of Cabinet, Setup and Lab.
- More hidden fields in home for search

Version 0.3
2021-01-18
- Implemented lazyload on home. Images only loaded when needed. With 57 items instead of 6MB+ only 1.7MB is loaded initially. Great speed improvement.
- Fixed bug os error when generating QR code on live version
- Updated QR code style

2021-01-19
- Improved version number loading. Now directly into base.
- Implemented qridcheck, as a version, to check whether label fields have changed since printing (brand, model or serial number). To do: show message automatically.
- Fixed Update / Add buttons on forms to be dynamic.
- qridcheck increased when brand, model or serial is updated. Note: it is very simple, when reverting back, the value still increases.
- renamed qridcheck to version
- added labelstatus to models: it keeps track whether a label is up to date or not. Version is check every time version is send in GET to item-detail (?v=).
- updated qrgenerator and qrbatchgenerator.

Version 0.4
2021-01-19
- Version also linked to tracking now.

2021-01-26
- Added parts fields to indicate number of parts of item
- Linebreaks in description
- Help texts Item model and reordering in form. Title mandatory now.
- ItemForm, category ChoiceField custom: initial blank, but still required: makes user actively select a category.
- Removed Scan from header. Will go with url-based for faster scanning. TODO remove ems-scanner from urls, templates, etc later on.
- DataTables, StateSave: true on home. Session.

2021-01-27
- Added GET to qrgenerator to accept part. In item-detail N links to generate QR-codes are shown in menu for N parts.
- QRbatchgenerator updated. Page size still wacky.
- On home redid sorting part jquery. Added filtervalue to SelectFields. This filtervalue is the actual value that is shown in the menu. Sorting is done based on the full html string. No more overcomplicated specific js in the background but general code.
- Fixed sorting of ID col on home
- Custom css and js loading for Datatables. No more unneeded code.

Version 0.5
2021-02-02
- Bug fix: added image fields again to Item form
- Added main content to storage location str
- Bug fix: only 2 parts were shown for qr code on item-detail page. Now upto N
- New default.png (500px instead of 300px). 300px caused css alignment problem (300<col-3).
- Statesave in manage env
- |nonevalue|safe in manage
- home table Reset button when filtering is on. Check is results != total items.

Version 0.6
2021-02-08
- New interface: storage. This page lists all the storage locations (cabinets) in an interactive table. On click detail page of cabinet is shown, including all the items that are currently on that location, and are supposed to be there (but in use now). Made all the links in item-detail clickable to this. Itemview in storageview is similar to home view. TODO add custom maps
- Updated top menu bar: Home is now Items, added Storage.
- Added active tab management in base.html.
- Added profile pages for all users to access. Profile is now 'Update profile', and with <str:slug> (slug username) profiles of others can be accessed. On profile pages items in use by users can be viewed. Links to users on item-detail. TODO correct aspect ratio of profile image, probably some redesign, merge profile update in this page.
- Active classes dynamically on manage_base.
- user_list in manage shows items in use per user.

Version 0.7 AKA 1.0
2021-02-11
- Export functionality to csv. New view def export(request): in manage. Creates csv-file with items for Dymo labelprinter. TODO: custom list / one item / all / maximize to last pk.

2021-02-12
- Manage home is now Overview.

2021-02-15
- Export functionality added tracking/notracking option to export different files for the 2 templates in use. 2 files in 1 response not possible. Other option is to ZIP.
- All users can update storage_location
- Updated assignremove. If item is unassigned and no storage_location is known. A location must be set before it is stored. This is only possible since storage_location is not mandatory on create item.
- Updated ems/view. if parse.urlparse(self.request.META.get('HTTP_REFERER')).path == reverse('ems-scanner'): no longer in use. Instead if version is send in GET this is now seen as an item-scan, and last_scanned is updated.
- Removed qrcode generation from Actions menu on item-detail. TODO: remove code of qrcode generation + scanner + js of scanner.
- Added tracking to ItemForm again
- Bug fix: if tracking is turned off when item is assigned, now user,date_inuse,date_return is set to None, status to True (available).

Version 1.0.1
2021-03-04
- Transition made to pcfems.utwente.nl, database from outsideathome
- Bugfix: when no storage_location was set and item was available (only possible when added without storage_location OR in admin removed), error would show up generation url to storage-detail. Now warning is shown when available and no location is set.
- Viewport metatag updated to max-scale:1, user-scalable=no to prevent zooming in on field on mobile.
- Bugfixes: permission limitations on server caused errors on manage/add and admin page. All fixed.

2021-03-09
- Bugfix: text wrap of badges on item detail
- Bugfix: Datatables pagination on home responsiveness
- Bugfix: hidden menu items (Items and Storage) on sm-devices.
- px-0 for Logbook and Item History (improves sm experience).

2021-03-10
- Bugfix: no table content on user and storage pages. Set px-0 in all tables on these pages, and correctly set data-priority.
- Bugfix: gridsystem wrapping on user and storage pages.
- Bugfix: fixed column width table item detail (different mobile and desktop).
- Bugfix: item-detail Item History wrong overflow. data-priorities added.
- item-detail redid button coloring. Added outline to some.
    BLUE    users + locations + assign to + change assign to
    YELLOW  storage + return to storage
    RED     add flag + in use
    GREEN   resolve flag + available
    SECOND  none, other stuff
- Locations are now all badges, no pills. Uniformity.
- Text-wrap on home for location badges (not as pretty, but no more unneeded hiding of columns).
- em in models storage_location of main content
- Return to Storage icon now warehouse


Version 1.0.2
2021-03-10
- manual added
- removed em from storage location title


Known bugs:
- Reset on home does not always show up.
- Special chars and spaces in names show up in username.